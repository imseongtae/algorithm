# Data Type
자바스크립트가 데이터를 처리하는 과정을 살펴보면 기본형과 참조형이 서로 다르게 동작하는 이유를 이해할 수 있다.

## table of contents
1. [데이터 타입의 종류](#데이터-타입의-종류)
1. [데이터 타입을 이해하기 위한 배경지식](#데이터-타입을-이해하기-위한-배경지식)
1. [변수 선언과 데이터 할당](#변수-선언과-데이터-할당)
1. [기본형 데이터와 참조형 데이터](#기본형-데이터와-참조형-데이터)


## 1. 데이터 타입의 종류

### 기본형과 참조형을 구분하는 기준
기본형은 **값이 담긴 주소값을 바로 복제**하는 반면 참조형은 **값이 담긴 주솟값들로 이루어진 묶음을 가리키는 주솟값을 복제**한다는 점이 다름


## 2. 데이터 타입을 이해하기 위한 배경지식

### 메모리와 데이터
컴퓨터는 모든 데이터를 0 또는 1로 바꿔 기억하며, 이를 표현할 수 있는 하나의 메모리 조각을 비트(bit)라고 함. 메모리는 매우 많은 비트들로 구성되어 있는데, 각 비트는 **고유한 식별자(unique identifier)**를 통해 위치를 확인할 수 있음

#### 바이트의 기원
매우 많은 비트를 한 단위로 묶으면 검색 시간은 줄이고, 표현할 수 있는 데이터의 개수도 늘어나겠지만 동시에 낭비되는 비트가 생김. 사용하지 않을 데이터를 위해 빈공간을 남겨놓기보다 크게 문제가 되지 않을 적정한 공간을 묶는 편이 효율적인 까닭에 8개의 비트로 구성되어 있는 바이트(byte)라는 단위가 생김

#### 자바스크립트의 숫자
자바스크립트는 메모리 관리에 대한 압박에서 상대적으로 자유로움. 이 때문에 **숫자의 경우 정수형인지 부동소수형인지를 구분하지 않고 64비트, 즉 8바이트**를 확보함

#### 메모리 주솟값
각 비트는 고유한 식별자를 지님. **바이트 역시 마찬가지로 시작하는 비트의 식별자**로 위치를 파악할 수 있음. 모든 데이터는 바이트 단위의 식별자, 즉 **메모리 주솟값**을 통해 서로 구분하고 연결할 수 있음

### 식별자와 변수
변수는 **변할 수 있는 수**를 의미. 수학 용어를 차용한 까닭에 수가 붙었을 뿐, 값이 숫자여야 하는 것음 아님. 변수는 **변할 수 있는 데이터**를 의미  
식별자는 어떤 데이터를 식별하는데 사용하는 이름, 즉 **변수명**을 의미함  

**[⬆ back to top](#table-of-contents)**

## 3. 변수 선언과 데이터 할당

### 변수 선언 동작 원리
변수란 결국 **변경 가능한 데이터가 담길 수 있는 공간 또는 그릇**을 의미

```js
// 1. 변할 수 있는 데이터를 만든다. 
// 2. 이 데이터의 식별자는 a로 한다.
var a;
```

### 데이터 할당 동작 원리
변수 선언과 데이터 할당을 한 문장으로 나누든 두 문장으로 나누든 자바스크립트 엔진은 같은 동작을 수행함.

```js
var a; // 변수 a 선언
a = 'abc' // 변수 a에 데이터 할당
 
var a = 'abcdef' // 변수 선언과 할당을 한 문장으로 표현
```

1. 변수 영역에서 빈 공간(@1003)을 확보한다.
1. 확보한 공간의 식별자를 a로 지정한다.
1. 데이터 영역의 빈 공간(@5004)에 문자열 'abc'를 저장한다.
1. 변수 영역에서 a라는 식별자를 검색한다(@1003).
1. 앞서 저장한 문자열의 주소를 @1003 공간에 대입한다.

**[⬆ back to top](#table-of-contents)**

##  4. 기본형 데이터와 참조형 데이터

### 참조형 데이터를 변수에 할당하는 과정
참조형 데이터가 기본형 데이터와 갖는 차이는 **객체의 변수(프로퍼티) 영역**이 별도로 존재한다는 점이다. 객체가 별도로 할애한 영역은 변수 영역일 뿐 '데이터 영역'은 기존의 메모리 공간을 그대로 활용하고 있다. (**데이터 영역에 저장된 값은 모두 불변값**)


```js
var obj = {
  a: 1,
  b: 'bbb'
};
obj.a = 2; // 5번째, obj의 a 프로퍼티에 2를 할당
```

obj의 a 프로퍼티에 할당하는 명령 전과 후에 변수 obj가 바라보고 있는 주소는 변하지 않는다. 즉 '새로운 객체'가 만들어진 것이 아니라 기존 객체 내부의 값만 바뀐 것이다.


### 중첩된 참조형 데이터(객체)의 프로퍼티 할당
> 중첩된 참조형 데이터 할당에 대한 과정 설명할 수 있을 정도로 숙지하기

```js
var obj = {
  x: 3,
  arr: [3, 4, 5]
}
```

### 변수 복사 비교
> 중첩된 참조형 데이터의 할당 및 값 변경에 대한 과정 설명할 수 있을 정도로 숙지하기

```js
var a = 10;
var b = a;

var obj = { c: 10, d: 'ddd' };
var copiedObj = obj;

b = 20;
copiedObj.c = 20;
```

기본형 데이터를 복사한 변수 `b`의 값을 바꿨더니 메모리 주솟값이 바뀌는 반면, 참조형 데이터를 복사한 변수 `copiedObj`의 프로퍼티(`c`)의 값을 바꾸었더니 메모리 주솟값은 달라지지 않음. 즉, `a`와 `b`는 서로 다른 주소를 바라보게 되었으나, 변수 `obj`와 `copiedObj`는 여전히 같은 객체를 바라보는 상태이며, 아래처럼 표현할 수 있다.

```js
a !== b
obj === copiedObj
```

'기본형은 값을 복사하고, 참조형은 주솟값을 복사한다.'고 하지만 사실은 어떤 데이터 타입이든 변수에 할당하기 위해서는 주솟값을 복사해야 하므로 자바스크립트의 모든 데이터 타입은 참조형일 수밖에 없다. 다만 기본형은 주솟값을 복사하는 과정이 한 번만 이뤄지고, 참조형은 한 단계를 더 거치게 된다는 차이가 있다.

**[⬆ back to top](#table-of-contents)**